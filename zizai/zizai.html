<html lang="zh-Ch">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <meta name="author" content="zhangzhan" />
    <title>自在旅行</title>
    <link rel="stylesheet" href="../css/com.css">
    <link rel="stylesheet" href="../css/zizai.css">
    <script src="../js/jquery.min.js"></script>
    <script src="../js/common.js"></script>
</head>
<body>
<div class="wrap zz_item">
    <a class="zz_item_box" href="zizai_detail.html">
        <div class="img"><img src="../images/item_2_1.jpg" ></div>
        <div class="info">
            <h2>四季花开,一家四口的童话小院浪漫中充斥着幸福</h2>
            <p class="p1">远离都市喧嚣，私享沙滩海景，慢生私享沙滩海景</p>
            <p class="p2"><span class="money">￥322</span><span class="change">最多可抵扣10%</span></p>
        </div>
    </a>
    
    <a class="zz_item_box"  href="zizai_detail.html">
        <div class="img"><img src="../images/item_2_1.jpg" ></div>
        <div class="info">
            <h2>四季花开,一家四口的童话小院浪漫中充斥着幸福</h2>
            <p class="p1">远离都市喧嚣，私享沙滩海景，慢生私享沙滩海景</p>
            <p class="p2"><span class="money">￥322</span><span class="change">最多可抵扣10%</span></p>
        </div>
    </a>

    <a class="zz_item_box" href="zizai_detail.html">
        <div class="img"><img src="../images/item_2_1.jpg" ></div>
        <div class="info">
            <h2>四季花开,一家四口的童话小院浪漫中充斥着幸福</h2>
            <p class="p1">远离都市喧嚣，私享沙滩海景，慢生私享沙滩海景</p>
            <p class="p2"><span class="money">￥322</span><span class="change">最多可抵扣10%</span></p>
        </div>
    </a>

    <a class="zz_item_box" href="zizai_detail.html">
        <div class="img"><img src="../images/item_2_1.jpg" ></div>
        <div class="info">
            <h2>四季花开,一家四口的童话小院浪漫中充斥着幸福</h2>
            <p class="p1">远离都市喧嚣，私享沙滩海景，慢生私享沙滩海景</p>
            <p class="p2"><span class="money">￥322</span><span class="change">最多可抵扣10%</span></p>
        </div>
    </a>

    <a class="zz_item_box" href="zizai_detail.html">
        <div class="img"><img src="../images/item_2_1.jpg" ></div>
        <div class="info">
            <h2>四季花开,一家四口的童话小院浪漫中充斥着幸福</h2>
            <p class="p1">远离都市喧嚣，私享沙滩海景，慢生私享沙滩海景</p>
            <p class="p2"><span class="money">￥322</span><span class="change">最多可抵扣10%</span></p>
        </div>
    </a>

    <a class="zz_item_box" href="zizai_detail.html">
        <div class="img"><img src="../images/item_2_1.jpg" ></div>
        <div class="info">
            <h2>四季花开,一家四口的童话小院浪漫中充斥着幸福</h2>
            <p class="p1">远离都市喧嚣，私享沙滩海景，慢生私享沙滩海景</p>
            <p class="p2"><span class="money">￥322</span><span class="change">最多可抵扣10%</span></p>
        </div>
    </a>
</div>

<script type="text/javascript">
    var items = $('.zz_item_box')[0];
    $(window).on('scroll',function(){
        if(scrollTop() + windowHeight() >= (documentHeight() - 1/*滚动响应区域高度取1px*/)){
            waterallowData();
        }
    });
    function waterallowData(){
        /*$('.waterfllow-loading').addClass('active');*/
        $('.zz_item').append($(items).clone());
        /*$.ajax({
         url:url,
         type:"post",
         data: params,
         success:function(data,textStatus,jQXHR){
         //添加数据
         ...

         //隐藏加载条
         $('.waterfllow-loading.active').removeClass('active');
         }
         });*/
    }
    //获取页面顶部被卷起来的高度
    function scrollTop(){
        return Math.max(
                //chrome
                document.body.scrollTop,
                //firefox/IE
                document.documentElement.scrollTop);
    }
    //获取页面文档的总高度
    function documentHeight(){
        //现代浏览器（IE9+和其他浏览器）和IE8的document.body.scrollHeight和document.documentElement.scrollHeight都可以
        return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight);
    }
    //获取页面浏览器视口的高度
    function windowHeight(){
        //document.compatMode有两个取值。BackCompat：标准兼容模式关闭。CSS1Compat：标准兼容模式开启。
        return (document.compatMode == "CSS1Compat")?
                document.documentElement.clientHeight:
                document.body.clientHeight;
    }
</script>
</body>
</html>